# ConCopilot

<span style="font-size: 24px">**_è®©æ‰€æœ‰äººå—ç›Šäºäººå·¥æ™ºèƒ½ï¼ˆAIï¼‰å’Œå¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰_**</span>

ConCopilotçš„è®¾è®¡ç†å¿µä¸ºè¿æ¥æ‰€æœ‰AIå‰¯å®˜ï¼ˆ**CON**nect all **COPILOT**sï¼‰ï¼Œå°†æ‰€æœ‰â€œ_åŠŸèƒ½æ€§éƒ¨åˆ†_â€å˜å¾—**å¯å¤ç”¨**ï¼Œ**å¯æ›¿æ¢**ï¼Œ**å¯ç§»æ¤**ï¼Œ**å¤Ÿçµæ´»**ï¼Œè®©æ‰€æœ‰æ½œåœ¨çš„ä»»åŠ¡éƒ½èƒ½å—ç›ŠäºAIå’ŒLLMã€‚

ConCopilotä¸ºæœ‰å¯èƒ½ä½¿ç»„æˆAIå‰¯å®˜çš„éƒ¨ä»¶å˜å¾—**å¯å¤ç”¨**ï¼Œ**å¯æ›¿æ¢**ï¼Œ**å¯ç§»æ¤**ï¼Œ**å¤Ÿçµæ´»**çš„éƒ¨åˆ†å®šä¹‰äº†é€šç”¨æ ‡å‡†å’Œæ¥å£ã€‚
æˆ‘ä»¬åŒæ—¶ä¹Ÿæ¬¢è¿ä¸€åˆ‡èƒ½æå‡è¿™äº›ç‰¹æ€§çš„ä»£ç è´¡çŒ®ã€‚

é™¤äº†è¿™äº›ç†å¿µä»¥å¤–ï¼ŒConCopilotå¹¶ä¸æä¾›ä»»ä½•ç‰¹å®šçš„å®ç°èŒƒå¼æˆ–å¯¹å¼€å‘è€…è¿›è¡Œå¼€å‘é™åˆ¶ã€‚
ç›¸åï¼ŒConCopilotå°†è¿™äº›å®Œå…¨è‡ªç”±çš„æš´éœ²ç»™å¼€å‘è€…å’Œç”¨æˆ·ã€‚
åœ¨å¼€å‘å’Œä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œä»»ä½•ç»„ä»¶å’Œé…ç½®å‡å¯è¢«ä¿®æ”¹ï¼Œ
å¹¶ä¸”æˆ‘ä»¬éå¸¸æ¬¢è¿å¼€å‘è€…ä¸Šä¼ è¿™äº›æ–°åŠŸèƒ½åˆ°æˆ‘ä»¬çš„ç»„ä»¶ä»“åº“ä½¿å¾—æ›´å¤šäººèƒ½å¤Ÿæ”¶ç›Šã€‚

## ä¸ºä»€ä¹ˆéœ€è¦ConCopilot

**_ä»¥æ’ä»¶ï¼ˆPluginï¼‰ä¸ºåŸºç¡€ï¼Œç”¨æ¶ˆæ¯ï¼ˆMessageï¼‰æ¥é©±åŠ¨_**

1. ä¸€åˆ‡çš†**æ’ä»¶**ï¼Œç”¨**æ¶ˆæ¯**å°†ä¸€åˆ‡è¿æ¥åˆ°AIå’ŒLLMã€‚
2. **é€šç”¨LLMæ¥å£**å’ŒLLMæ— ç¼æ›¿æ¢ã€‚
3. **è§£è€¦ä¸šåŠ¡ï¼Œæ’ä»¶ï¼Œå’ŒLLMã€‚**
4. **è§£è€¦æ’ä»¶ä¸AIå‰¯å®˜ï¼ŒLLMï¼Œå’Œèµ„æºï¼ˆResourcesï¼‰ã€‚**
5. ç»„ä»¶åŒ…ç®¡ç†å·¥å…·ã€‚
6. æ–¹ä¾¿ç®€å•çš„ç¤¾åŒºè´¡çŒ®æ–¹å¼ã€‚
7. è‡ªç”±çµæ´»çš„åº”ç”¨å¼€å‘ã€‚
8. å¯¹å…¶å®ƒå¼€å‘å·¥å…·å‹å¥½ã€‚
9. ç®€å•çš„æœ«ç«¯åº”ç”¨æ–¹å¼ã€‚

**ConCopilot vs. LangChain vs. AutoGPT**

ç®€å•æ¥è¯´ï¼ŒLangChainæ˜¯LLMåº”ç”¨çš„å¼€å‘å·¥å…·ï¼Œ
AutoGPTå…¶ä¸­ä¸€ç§åº”ç”¨ï¼Œ
è€ŒConCopilotä¸ºåº”ç”¨å¼€å‘è€…å’Œæœ«ç«¯ç”¨æˆ·å®šä¹‰äº†èƒ½è®©å…¶æ–¹ä¾¿å¹¶ä¾¿æ·æ›¿æ¢åº”ç”¨ç»„ä»¶çš„é€šç”¨æ ‡å‡†å’Œæ¥å£ï¼Œ
ä»¥åŠå¸®åŠ©å…¶äº§å“æœåŠ¡è¿æ¥åˆ°LLMçš„é€šç”¨èŒƒå¼ã€‚

å› æ­¤ï¼Œä½¿ç”¨åƒLangChainè¿™æ ·çš„å¼€å‘å·¥å…·ï¼Œéµå¾ªConCopilotçš„æ¥å£ï¼Œå¼€å‘å¦‚åŒAutoGPTè¿™æ ·çš„åº”ç”¨ï¼Œè®©å…¨ä¸–ç•Œéƒ½èƒ½å¤Ÿå—ç›Šã€‚ğŸ˜†

## èµ„æº

[å®˜ç½‘](https://concopilot.org)
<br>
[GitHub](https://github.com/ConCopilot/concopilot)
<br>
[æ–‡æ¡£](https://concopilot.readthedocs.io)

è¯·æ³¨æ„ï¼ŒConCopilot**ä¸**å¯¹ä»»ä½•æ¶æ„æˆ–æ»¥ç”¨ç»„ä»¶è´Ÿè´£ã€‚

## ä¾‹å­

åœ¨[è¿™é‡Œ](https://github.com/ConCopilot/concopilot/tree/main/concopilot_examples)æŸ¥çœ‹èŒƒä¾‹ä»£ç å’Œé…ç½®ã€‚

### å®‰è£…

```shell
pip install --upgrade concopilot
```

### å¯¹æœ«ç«¯ç”¨æˆ·

#### è¿è¡Œå¼€å‘å¥½çš„AIå‰¯å®˜

1. ä»æœ¬ç«™æœç´¢å¯¹åº”AIå‰¯å®˜ä¿¡æ¯ï¼ˆgroup_idï¼Œartifact_idï¼Œversionï¼‰ã€‚
2. è¿è¡ŒAIå‰¯å®˜ï¼š

    ```shell
    conpack run
            --group-id=<copilot_group_id>
            --artifact-id=<copilot_artifact_id>
            --version=<copilot_version>
            # --config-file=<your_downloaded_file_path>
            # --working-directory=<your_working_directory>
    ```

##### å¿«é€ŸèŒƒä¾‹

1. ä¸‹è½½è¿™ä¸ªç®€åŒ–ç‰ˆçš„ç±»Auto-GPT[å‰¯å®˜èŒƒä¾‹](https://github.com/ConCopilot/concopilot/blob/main/concopilot_examples/config.yaml)ã€‚
2. æ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿è¡Œ:

    ```shell
    conpack run
            --config-file=<your_downloaded_file_path>
            # --working-directory=<your_working_directory>
    ```

### å¯¹å¼€å‘è€…

#### å¼€å‘ä¸€ä¸ªæ’ä»¶ï¼ˆPluginï¼‰

1. ç›®å½•ç»“æ„

    ```
    root
    |-- .config
    |    |-- config.yaml
    |    |-- ... (å…¶å®ƒé…ç½®æ–‡ä»¶)
    |
    |-- __init__.py (åœ¨æ­¤æš´éœ²ä¸€ä¸ªæ„å»ºä½ çš„æ’ä»¶çš„"constructor"æ–¹æ³•)
    |-- ...
    ```

2. ä½¿ä½ çš„æ’ä»¶ç»§æ‰¿è‡ª`AbstractPlugin`ç±»ï¼Œå¹¶å®ç°ä»¥ä¸‹æ–¹æ³•
    - `__init__`æ–¹æ³•ï¼Œä»…æ¥æ”¶ä¸€ä¸ªåŒ…å«å…¶æ‰€æœ‰é…ç½®ä¿¡æ¯çš„`dict`å‚æ•°ã€‚
    - `command`æ–¹æ³•ï¼Œæ¥æ”¶ä¸€ä¸ª`string`ç±»å‹çš„å‘½ä»¤åå‚æ•°ï¼ˆ`command_name`ï¼‰ï¼Œä¸€ä¸ª`dict`ç±»å‹çš„å‘½ä»¤å‚æ•°å‚æ•°ï¼ˆ`param`ï¼‰ï¼Œå¹¶è¿”å›ä¸€ä¸ª`dict`ç±»å‹çš„å‘½ä»¤æ‰§è¡Œç»“æœã€‚

    ```python
    from concopilot.framework.plugin import AbstractPlugin


    class YourPlugin(AbstractPlugin):
        def __init__(self, config: Dict):
            super(YourPlugin, self).__init__(config)
            # ...

        def command(self, command_name: str, param: Dict, **kwargs) -> Dict:
            # ...
    ```

3. ç¼–è¾‘è¯¥æ’ä»¶çš„`.config`ç›®å½•ä¸‹çš„`config.yaml`æ–‡ä»¶ã€‚åˆ«å¿˜äº†å¡«å†™å…¶`setup`éƒ¨åˆ†ï¼š

    ```yaml
    # åœ¨ä½ çš„æ’ä»¶å¯¹åº”çš„config.yamlæ–‡ä»¶ä¸­

    group_id: <group_id>
    artifact_id: <artifact_id>
    version: <version>

    # ...

    setup:
    pip:
      - <your_python_package>
    package: <package_of_the__init__py>

    #...
    ```

4. ç¼–è¾‘ä»£ç åŒ…ä¸‹çš„`__init__.py`æ–‡ä»¶ï¼Œæš´éœ²ä¸€ä¸ªå«åš"constructor"çš„æ–¹æ³•ç”¨äºæ„å»ºè¯¥æ’ä»¶ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

    ```python
    from typing import Dict

    from your.plugin.package import YourPlugin


    def constructor(config: Dict):
        return YourPlugin(config)


    __all__=[
        'constructor'# è¯·ç¡®ä¿è¯¥æ–¹æ³•åä¸º"constructor"
    ]
    ```

5. å‘å¸ƒä½ çš„pythonä»£ç åŒ…ã€‚

6. å°†ä½ çš„æ’ä»¶éƒ¨ç½²åˆ°æ’ä»¶ä»“åº“ä»¥ä¾¿ä»–äººä½¿ç”¨ï¼š

    ```shell
    conpack deploy
            # --src-folder=<your_source_folder>
    ```

#### å¼€å‘ä¸€ä¸ªAIå‰¯å®˜ï¼ˆCopilotï¼‰

1. å¼€å‘ç›®å½•ç»“æ„ä¸å¼€å‘æ’ä»¶æ—¶ä¸€è‡´ã€‚

2. é€šå¸¸ä¸éœ€è¦ç»§æ‰¿`Copilot`æ¥å£ï¼Œç»§æ‰¿`Interactor`å³å¯ã€‚

    ```python
    from concopilot.framework.interactor import BasicInteractor


    class YourInteractor(BasicInteractor):
        def __init__(
            self,
            config: Dict,
            resource_manager: ResourceManager,
            cerebrum: Cerebrum,
            plugin_manager: PluginManager,
            message_manager: MessageManager
        ):
            super(BasicInteractor, self).__init__(
                config,
                resource_manager,
                cerebrum,
                plugin_manager,
                message_manager
            )
            # ...
    ```

3. ç¼–è¾‘è¯¥interactorçš„`.config`ç›®å½•ä¸‹çš„`config.yaml`æ–‡ä»¶ã€‚å…¶`setup`éƒ¨åˆ†çš„å¡«å†™æ–¹å¼å’Œå¼€å‘æ’ä»¶æ—¶ç›¸åŒã€‚

4. ç¼–è¾‘ä»£ç åŒ…ä¸‹çš„`__init__.py`æ–‡ä»¶ï¼Œæš´éœ²ä¸€ä¸ªå«åš"constructor"çš„æ–¹æ³•ç”¨äºæ„å»ºè¯¥æ’ä»¶ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

    ```python
    from typing import Dict

    from your.interactor.package import YourInteractor


    def constructor(config: Dict):
        return YourInteractor(config)


    __all__=[
        'constructor'# è¯·ç¡®ä¿è¯¥æ–¹æ³•åä¸º"constructor"
    ]
    ```

5. å°†é»˜è®¤AIå‰¯å®˜ï¼ˆCopilotï¼‰æ¡†æ¶ä¸‹çš„`config.yaml`æ–‡ä»¶ä¸­çš„å¯¹åº”é…ç½®ä¿®æ”¹ä¸ºä½ çš„`Interactor`ï¼Œç„¶åè¿è¡Œå¹¶æµ‹è¯•

    ```yaml
    group_id: org.concopilot.basic.copilot
    artifact_id: basic-copilot
    version: <basic_copilot_version>

    type: copilot
    as_plugin: false

    # ...

    interactor:
    group_id: <your_interactor_group_id>
    artifact_id: <your_interactor_artifact_id>
    version: <your_interactor_version>
    config:
      # ...

    # ...
    ```

6. å‘å¸ƒä½ çš„pythonä»£ç åŒ…ã€‚

7. å°†ä½ çš„interactoréƒ¨ç½²åˆ°æ’ä»¶ä»“åº“ä»¥ä¾¿ä»–äººä½¿ç”¨ï¼š

    ```shell
    conpack deploy
            # --src-folder=<your_source_folder>
    ```
